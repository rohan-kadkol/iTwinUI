// Copyright (c) Bentley Systems, Incorporated. All rights reserved.
// See LICENSE.md in the project root for license terms and full copyright notice.
@import '../style/index';

@mixin iui-text-block-spacing {
  padding: 0;
  margin: 0 0 $iui-line-height;
}

@mixin iui-text($type: body) {
  @include iui-reset;

  $sizes: (
    headline: $iui-font-size-headline,
    title: $iui-font-size-title,
    subheading: $iui-font-size-subheading,
    leading: $iui-font-size-leading,
    body: $iui-font-size,
    small: $iui-font-size-small,
  );

  $weights: (
    headline: $iui-font-weight-light,
    title: $iui-font-weight-light,
    subheading: $iui-font-weight-normal,
    leading: $iui-font-weight-normal,
    body: $iui-font-weight-normal,
    small: $iui-font-weight-normal,
  );
  $line-heights: (
    headline: 2 * $iui-line-height,
    title: 1.5 * $iui-line-height,
    subheading: 1.5 * $iui-line-height,
    leading: $iui-line-height,
    body: $iui-line-height,
    small: $iui-line-height,
  );
  $type: if(map-has-key($sizes, $type), $type, body);
  font-size: map-get($sizes, $type);
  font-weight: map-get($weights, $type);
  line-height: map-get($line-heights, $type);
}

@mixin iui-text-color($color: primary) {
  @include iui-text-selection($color);
  @include themed {
    color: t(iui-color-foreground-#{$color});
  }
}

@mixin iui-text-muted {
  @include themed {
    color: t(iui-text-color-muted);
  }
}

@mixin iui-text-skeleton {
  display: inline-block;
  user-select: none;
  color: transparent;
  border-radius: $iui-border-radius;

  @include themed {
    background: linear-gradient(
      270deg,
      t(iui-color-background-3),
      t(iui-color-background-3),
      t(iui-color-background-2),
      t(iui-color-background-3),
      t(iui-color-background-3)
    );
    background-size: 200% 100%;
  }

  @media (prefers-reduced-motion: no-preference) {
    animation: skeleton-shimmer $iui-speed-slow linear infinite;

    @keyframes skeleton-shimmer {
      0% {
        background-position: 200% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }
  }
}
