// Copyright (c) Bentley Systems, Incorporated. All rights reserved.
// See LICENSE.md in the project root for license terms and full copyright notice.
@import '../style/index';

@mixin iui-anchor {
  @include iui-focus($offset: 2px);
  border-radius: $iui-border-radius;
  transition: color $iui-speed-fast ease, text-decoration-color $iui-speed-fast ease;
  text-underline-offset: 1px;
  cursor: pointer;
  @include themed {
    color: t(iui-color-foreground-primary);
    text-decoration-color: rgba(t(iui-color-foreground-primary-rgb), 0);
  }

  &:hover {
    @include themed {
      color: t(iui-color-foreground-primary-overlay);
      text-decoration-color: rgba(t(iui-color-foreground-primary-overlay-rgb), 1);
    }
  }

  &.iui-anchor-popout {
    &::after {
      content: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23008BE1' d='m16 0v5.4l-1.9-2-8.4 8.4-1.5-1.5 8.3-8.4-1.9-1.9m5.4 16v-9h-1v8h-14v-14h8v-1h-9v16z'/%3E%3C/svg%3E");
      display: inline-block;
      width: $iui-icons-small;
      height: $iui-icons-small;
      margin-left: $iui-xs;
      background-position: center;
      background-repeat: no-repeat;
      background-size: contain;

      @supports (
        -webkit-mask-image: url('https://unpkg.com/@itwin/itwinui-icons/icons/window-popout.svg') or (mask-image:
        url('https://unpkg.com/@itwin/itwinui-icons/icons/window-popout.svg'))
      ) {
        content: '';
        mask-image: url('https://unpkg.com/@itwin/itwinui-icons/icons/window-popout.svg');
        mask-image: url('https://unpkg.com/@itwin/itwinui-icons/icons/window-popout.svg');
        mask-repeat: no-repeat;
        mask-repeat: no-repeat;
        background-color: var(--iui-color-foreground-primary);
        height: $iui-icons-small + $iui-xxs;
        vertical-align: middle;
      }
    }

    &:hover::after {
      content: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23006BAE' d='m16 0v5.4l-1.9-2-8.4 8.4-1.5-1.5 8.3-8.4-1.9-1.9m5.4 16v-9h-1v8h-14v-14h8v-1h-9v16z'/%3E%3C/svg%3E");

      @supports (
        -webkit-mask-image: url('https://unpkg.com/@itwin/itwinui-icons/icons/window-popout.svg') or (mask-image:
        url('https://unpkg.com/@itwin/itwinui-icons/icons/window-popout.svg'))
      ) {
        content: '';
        background-color: var(--iui-color-foreground-primary-overlay);
      }
    }
  }
}
